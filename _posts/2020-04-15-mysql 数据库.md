---
title: mysql数据库
description: 数据库
tags: Java、mysql
---


索引
 -
1. 索引
    - 是一种数据结构
        - 二叉树
        - 红黑树
        - hash表
        - B-Tree
        - B+Tree ：多叉平衡树
            - 有序、叶子结点才有data --> 查找速度稳定
    - 联合索引
        - 最左前缀原理：多个索引字段，先按照第一个字段排序，再按照第二个字段排序，以此类推...
        - 查询条件不包含前边的索引字段，不使用索引：例如name,age,sex 使用name,age使用了索引，使用sex没有使用索引
            
            
2. 引擎
    - 存储引擎是表级的，一个数据库内不同的表可以使用不同的引擎
    - innordb：聚集索引
        - B+Tree 
        - 聚集索引：叶子节点保存data消息体
        - 为什么必须有主键：不创建主键，数据库默认一个字段作为主键，索引为B+Tree，需要有一个值来组成，（如果没创建也没有符合要求的，创建一个隐藏列）
        - 为什么主键使用自增整数：好比较，有序，占内存小
        - 为什么非主键索引，叶子节点存储的主键值：
    - MyISAM：非聚集索引
        - B+Tree
        - 非聚集索引：叶子结点存储的data地址，数据在文件中
3. 三范式
    - 列不可分
    - 每个表只描述一件事
    - 只有主键可以依赖传递

4. 数据库的事务
    - 原子性：要么都成功，要么都失败
    - 一致性：更新后所有查询结果都是一样的
    - 隔离性：每个事务之间没有依赖
    - 持久性：更新后保存
        
10. 优化
    - 对索引的使用
    - 数据占空间尽可能小：使用int等
    - or/in/<>/!= 不使用索引
    - exist代替in
    - null 占用空间
        
                
    
 
